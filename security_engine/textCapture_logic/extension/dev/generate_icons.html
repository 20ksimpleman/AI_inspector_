<!DOCTYPE html>
<html>

<head>
    <title>Generate Extension Icons</title>
</head>

<body>
    <h2>Click each button to download the PNG icon</h2>
    <canvas id="c128" width="128" height="128"></canvas>
    <canvas id="c48" width="48" height="48"></canvas>
    <canvas id="c16" width="16" height="16"></canvas>
    <br>
    <button onclick="download(128)">Download 128px</button>
    <button onclick="download(48)">Download 48px</button>
    <button onclick="download(16)">Download 16px</button>
    <button onclick="downloadAll()">Download All</button>

    <script>
        function drawIcon(size) {
            const canvas = document.getElementById('c' + size);
            const ctx = canvas.getContext('2d');
            const s = size;

            // Background
            const bgGrad = ctx.createLinearGradient(0, 0, s, s);
            bgGrad.addColorStop(0, '#1a1a2e');
            bgGrad.addColorStop(1, '#16213e');

            // Draw circle background
            ctx.beginPath();
            ctx.arc(s / 2, s / 2, s / 2 - 1, 0, Math.PI * 2);
            ctx.fillStyle = bgGrad;
            ctx.fill();

            // Shield gradient
            const shieldGrad = ctx.createLinearGradient(0, 0, s, s);
            shieldGrad.addColorStop(0, '#ff4b4b');
            shieldGrad.addColorStop(1, '#cc2936');

            // Draw shield
            ctx.beginPath();
            const cx = s / 2, top = s * 0.17, bot = s * 0.83, mid = s * 0.52;
            const left = s * 0.25, right = s * 0.75;
            ctx.moveTo(cx, top);
            ctx.lineTo(right, s * 0.3);
            ctx.lineTo(right, mid);
            ctx.quadraticCurveTo(right, bot, cx, bot);
            ctx.quadraticCurveTo(left, bot, left, mid);
            ctx.lineTo(left, s * 0.3);
            ctx.closePath();
            ctx.fillStyle = shieldGrad;
            ctx.fill();

            // Draw eye (only for sizes >= 48)
            if (size >= 48) {
                ctx.strokeStyle = '#fff';
                ctx.lineWidth = Math.max(1.5, s * 0.025);
                ctx.beginPath();
                ctx.ellipse(cx, s * 0.45, s * 0.14, s * 0.09, 0, 0, Math.PI * 2);
                ctx.stroke();

                ctx.beginPath();
                ctx.arc(cx, s * 0.45, s * 0.045, 0, Math.PI * 2);
                ctx.fillStyle = '#fff';
                ctx.fill();

                // Checkmark
                if (size >= 48) {
                    ctx.beginPath();
                    ctx.strokeStyle = '#fff';
                    ctx.lineWidth = Math.max(1.5, s * 0.025);
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    ctx.moveTo(s * 0.38, s * 0.62);
                    ctx.lineTo(s * 0.46, s * 0.7);
                    ctx.lineTo(s * 0.62, s * 0.56);
                    ctx.stroke();
                }
            }

            return canvas;
        }

        [128, 48, 16].forEach(drawIcon);

        function download(size) {
            const canvas = document.getElementById('c' + size);
            const link = document.createElement('a');
            link.download = 'icon' + size + '.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        function downloadAll() {
            [128, 48, 16].forEach(size => {
                setTimeout(() => download(size), size === 128 ? 0 : size === 48 ? 300 : 600);
            });
        }
    </script>
</body>

</html>